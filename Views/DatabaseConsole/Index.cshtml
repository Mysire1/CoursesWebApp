@{
    ViewData["Title"] = "SQL Console";
}

<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            overflow-x: hidden;
        }
        /* ...[style section unchanged]... */
    </style>
</head>
<body>
    <div class="container-fluid px-3 px-md-4">
        <h1 class="mb-4">üóÑÔ∏è SQL Console</h1>
        <div class="console-wrapper">
            <div class="toolbar">
                <button class="btn-console btn-console-primary" id="executeBtn">
                    <span class="btn-text">‚ñ∂ –í–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞–ø–∏—Ç</span>
                    <span class="loader"></span>
                </button>
                <button class="btn-console btn-console-secondary" id="clearBtn">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏</button>
                <button class="btn-console btn-console-secondary" id="formatBtn">‚ú® –§–æ—Ä–º–∞—Ç—É–≤–∞—Ç–∏</button>
                <button class="btn-console btn-console-secondary" id="exportBtn" style="margin-left: auto;">üíæ –ï–∫—Å–ø–æ—Ä—Ç CSV</button>
            </div>
            <div class="query-templates">
                <h3>–®–≤–∏–¥–∫—ñ –∑–∞–ø–∏—Ç–∏</h3>
                <div class="template-buttons">
                    <button class="template-btn" data-query='SELECT l."Name" AS Language, COUNT(s."StudentId") AS StudentCount FROM "Languages" l LEFT JOIN "Groups" g ON l."LanguageId" = g."LanguageId" LEFT JOIN "Enrollments" e ON g."GroupId" = e."GroupId" LEFT JOIN "Students" s ON e."StudentId" = s."StudentId" GROUP BY l."LanguageId", l."Name";'>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–æ–≤–∞—Ö</button>
                    <button class="template-btn" data-query='SELECT COUNT(*) AS TotalStudents, SUM(CASE WHEN "HasDiscount" = true THEN 1 ELSE 0 END) AS WithDiscount FROM "Students";'>–ó–Ω–∏–∂–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</button>
                    <button class="template-btn" data-query='SELECT g."GroupName", l."Name" AS Language, t."FirstName" || '' '' || t."LastName" AS Teacher FROM "Groups" g JOIN "Languages" l ON g."LanguageId" = l."LanguageId" JOIN "Teachers" t ON g."TeacherId" = t."TeacherId" WHERE l."Name" = '\''–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞'\'';'>–ó–∞–ø–∏—Ç 1: –ì—Ä—É–ø–∏ –ø–æ –º–æ–≤—ñ (–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞)</button>
                    <button class="template-btn" data-query='SELECT s."FirstName", s."LastName", s."Email", er."Grade", ex."Description" AS Exam, g."GroupName" FROM "ExamResults" er JOIN "Students" s ON er."StudentId" = s."StudentId" JOIN "Exams" ex ON er."ExamId" = ex."ExamId" LEFT JOIN "Enrollments" e ON s."StudentId" = e."StudentId" LEFT JOIN "Groups" g ON e."GroupId" = g."GroupId" WHERE er."Grade" < 60;'>–ó–∞–ø–∏—Ç 3: –ù–µ –∑–¥–∞–Ω—ñ —ñ—Å–ø–∏—Ç–∏</button>
                    <button class="template-btn" data-query='SELECT t."FirstName" || '' '' || t."LastName" AS Teacher, COUNT(DISTINCT tl."LanguageId") AS LanguageCount FROM "Teachers" t JOIN "TeacherLanguages" tl ON t."TeacherId" = tl."TeacherId" GROUP BY t."TeacherId", t."FirstName", t."LastName" ORDER BY LanguageCount;'>–ó–∞–ø–∏—Ç 4: –í–∏–∫–ª–∞–¥–∞—á—ñ –ø–æ –º–æ–≤–∞–º</button>
                    <button class="template-btn" data-query='SELECT s."FirstName", s."LastName", s."Email", s."PaymentStatus", s."HasDiscount", s."DiscountPercentage" FROM "Students" s WHERE s."PaymentStatus" IS NOT NULL ORDER BY s."PaymentStatus";'>–ó–∞–ø–∏—Ç 5: –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç–∏</button>
                    <button class="template-btn" data-query='SELECT s."FirstName", s."LastName", COUNT(DISTINCT e2."EnrollmentId") AS LevelsCompleted FROM "Students" s JOIN "Enrollments" e2 ON s."StudentId" = e2."StudentId" WHERE e2."IsCompleted" = TRUE GROUP BY s."StudentId", s."FirstName", s."LastName" HAVING COUNT(DISTINCT e2."EnrollmentId") > 3;'>–ó–∞–ø–∏—Ç 6: –°–ª—É—Ö–∞—á—ñ –∑ >3 —Ä—ñ–≤–Ω—è–º–∏</button>
                    <button class="template-btn" data-query='SELECT DISTINCT s."FirstName", s."LastName", s."Email" FROM "Students" s JOIN "Enrollments" e ON s."StudentId" = e."StudentId" JOIN "Groups" g ON e."GroupId" = g."GroupId" WHERE g."LanguageId" = (SELECT "LanguageId" FROM "Languages" WHERE "Name" = '\''–ù—ñ–º–µ—Ü—å–∫–∞'\''');'>–ó–∞–ø–∏—Ç 7: –°–ª—É—Ö–∞—á—ñ –Ω—ñ–º–µ—Ü—å–∫–æ—ó</button>
                    <button class="template-btn" data-query='SELECT s."StudentId", s."FirstName", s."LastName", COUNT(DISTINCT e."GroupId") AS LanguageCount FROM "Students" s JOIN "Enrollments" e ON s."StudentId" = e."StudentId" JOIN "Groups" g ON e."GroupId" = g."GroupId" GROUP BY s."StudentId", s."FirstName", s."LastName" HAVING COUNT(DISTINCT g."LanguageId") > 1;'>–ó–∞–ø–∏—Ç 7: –°–ª—É—Ö–∞—á—ñ –∑ >1 –º–æ–≤–æ—é</button>
                    <button class="template-btn" data-query='SELECT g."GroupName", COUNT(e."StudentId") AS Students FROM "Groups" g LEFT JOIN "Enrollments" e ON g."GroupId" = e."GroupId" GROUP BY g."GroupId", g."GroupName" HAVING COUNT(e."StudentId") < 5;'>–ó–∞–ø–∏—Ç 8: –ú–∞–ª—ñ –≥—Ä—É–ø–∏ (<5)</button>
                    <button class="template-btn" data-query='SELECT g."GroupName", COUNT(e."StudentId") AS Students FROM "Groups" g LEFT JOIN "Enrollments" e ON g."GroupId" = e."GroupId" GROUP BY g."GroupId", g."GroupName" HAVING COUNT(e."StudentId") = 20;'>–ó–∞–ø–∏—Ç 9: –í–µ–ª–∏–∫—ñ –≥—Ä—É–ø–∏ (=20)</button>
                    <button class="template-btn" data-query='SELECT sc."DayOfWeek", sc."StartTime", sc."EndTime", g."GroupName", c."RoomNumber", t."FirstName" || '' '' || t."LastName" AS Teacher FROM "Schedules" sc JOIN "Groups" g ON sc."GroupId" = g."GroupId" JOIN "Classrooms" c ON sc."ClassroomId" = c."ClassroomId" JOIN "Teachers" t ON sc."TeacherId" = t."TeacherId" WHERE g."GroupName" = '\''A1-1'\'';'>–ó–∞–ø–∏—Ç 10: –†–æ–∑–∫–ª–∞–¥ –≥—Ä—É–ø–∏</button>
                </div>
            </div>
            <!-- [editor etc remains unchanged] -->
        </div>
    </div>
    <!-- [script section unchanged] -->
</body>
</html>
